<!DOCTYPE html>
<html>

<head>
    <title>徐锐的光电系统设计实验</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" ,initial-scale=1.0>
    <meta name="description" content="姓名：徐锐 班级：应用光电子学2班 学号：1609090623">
	<mate name="author" content="徐锐">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="images/doge.ico">
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="layui.js"></script>

    <style>
        body {
            font-family: '微软雅黑';
            font-weight: 100;
            padding: 50px 100px;
        }

        .box {
            margin: 0 auto;
        }

        .row {
            margin: 20px 0;
        }

        .col-lg-2,
        .col-lg-10 {
            padding: 0;
        }

        .page-header,
        h1 {
            margin: 0;
        }

        .form-control {
            height: 45px;
        }

        .tab-pane {
            padding: 50px;
        }

        .label-info {
            border-radius: 5px 5px 0px 0px;
            position: relative;
            top: -2px;
            left: 4px;
            background-color: #81b3c1;
        }

        .btn {
            width: 80%;
            display: flex;
            flex: 1;
            align-items: center;
            justify-content: center;
        }

        .panel-body {
            font-weight: 900;
        }

        .alert-warning {
            display: none;
            text-align: center;
        }

        #page4 .row {
            margin: 50px 0;
        }

        td {
            text-align: center;
        }

        #area4Table {
            overflow-y: scroll;
            max-height: 500px;
        }

        #area4Table::-webkit-scrollbar {
            width: 0px;
            height: 0px;
        }

        tbody td {
            font-weight: 100;
        }
    </style>

</head>

<body>

    <div class="box">

    	<div class="page-header" style="margin-bottom: 30px;">
            <h1 >光电系统设计上机实验
                <small> 姓名：徐锐  班级：应用光电子学02班  学号：1609090623</small>
            </h1>
        </div>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#page1" aria-controls="page1" role="tab" data-toggle="tab">辐出度</a>
            </li>
            <li role="presentation">
                <a href="#page2" aria-controls="page2" role="tab" data-toggle="tab">辐射波长</a>
            </li>
            <li role="presentation">
                <a href="#page3" aria-controls="page3" role="tab" data-toggle="tab">波长辐射出射度</a>
            </li>
            <li role="presentation">
                <a href="#page4" aria-controls="page4" role="tab" data-toggle="tab">多波长辐射出射度览</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">

            <div role="tabpanel" class="tab-pane active" id="page1">
                <div class="page-header">
                    <h1 style="font-weight: 100;">辐出度
                        <small>计算</small>
                    </h1>
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> 温 度 </span>
                    <input type="text" class="form-control" placeholder="请输入温度" id="temperature1" />
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> f 1 </span>
                    <input type="text" class="form-control" placeholder="请查表输入 f1" id="f1" />
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> f 2 </span>
                    <input type="text" class="form-control" placeholder="请查表输入 f2" id="f2" />
                </div>

                <div class="row">
                    <div class="col-lg-2">
                        <button type="button" class="btn btn-default" onclick="fuchudu()">开始</button>
                    </div>
                    <div class="col-lg-10">
                        <div class="panel panel-success">
                            <div class="panel-heading" id="area1Title">计算结果 : </div>
                            <div class="panel-body" id="area1">
                                Value
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="alert alert-warning alert-dismissible" role="alert" id="area1Warning">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>请输入正确的
                        <span class="alert-link">数字</span> !</div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane" id="page2">
                <div class="page-header">
                    <h1 style="font-weight: 100;">最大辐射波长
                        <small>计算</small>
                    </h1>
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> 温 度 </span>
                    <input type="text" class="form-control" placeholder="请输入温度" id="temperature2" />
                </div>

                <div class="row">
                    <div class="col-lg-2">
                        <button type="button" class="btn btn-default" onclick="fushebochang()">开始</button>
                    </div>
                    <div class="col-lg-10">
                        <div class="panel panel-success">
                            <div class="panel-heading" id="area2Title">计算结果 : </div>
                            <div class="panel-body" id="area2">
                                Value
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="alert alert-warning alert-dismissible" role="alert" id="area2Warning">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>请输入正确的
                        <span class="alert-link">数字</span> !</div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane" id="page3">
                <div class="page-header">
                    <h1 style="font-weight: 100;">各波长辐射出射度
                        <small>计算</small>
                    </h1>
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> 温 度 </span>
                    <input type="text" class="form-control" placeholder="请输入温度" id="temperature3" />
                </div>
                <div class="row">
                    <span class="label label-info" style="padding: 4px 30px;"> 波 长 </span>
                    <input type="text" class="form-control" placeholder="请输入波长" id="length3" />
                </div>

                <div class="row">
                    <div class="col-lg-2">
                        <button type="button" class="btn btn-default" onclick="fushechushedu()">开始</button>
                    </div>
                    <div class="col-lg-10">
                        <div class="panel panel-success">
                            <div class="panel-heading" id="area3Title">计算结果 : </div>
                            <div class="panel-body" id="area3">
                                Value
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="alert alert-warning alert-dismissible" role="alert" id="area3Warning">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>请输入正确的
                        <span class="alert-link">数字</span> !</div>
                </div>
            </div>

            <div role="tabpanel" class="tab-pane" id="page4">
                <div class="page-header">
                    <h1 style="font-weight: 100;">各波长辐射出射度
                        <small>计算</small>
                    </h1>
                </div>
                <div class="row">
                    <div class="col-lg-3">
                        <span class="label label-info" style="padding: 4px 30px;"> 开始波长 </span>
                        <input type="text" class="form-control" placeholder="请输入开始波长" id="startingWavelength" />
                    </div>
                    <div class="col-lg-3">
                        <span class="label label-info" style="padding: 4px 30px;"> 结束波长 </span>
                        <input type="text" class="form-control" placeholder="请输入结束波长" id="endWavelength" />
                    </div>
                    <div class="col-lg-3">
                        <span class="label label-info" style="padding: 4px 30px;"> 温度 </span>
                        <input type="text" class="form-control" placeholder="请输入温度" id="temperature4" />
                    </div>
                    <div class="col-lg-3">
                        <span class="label label-info" style="padding: 4px 30px;"> 投影面积 </span>
                        <input type="text" class="form-control" placeholder="请输入投影面积" id="times" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <button type="button" class="btn btn-default" style="width: 100%;height: 45px;" onclick="radiationTable()">开始</button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-success">
                            <div class="panel-heading" id="area4Title">计算结果 : </div>
                            <div class="panel-body" id="area4Table">
                                <table class="table table-striped table-hover" id="area4">
                                    <thead>
                                        <tr>
                                            <td>波长</td>
                                            <td>光谱辐射出射度</td>
                                            <td>光谱辐射能通量</td>
                                        </tr>
                                    </thead>
                                    <tbody>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="alert alert-warning alert-dismissible" role="alert" id="area4Warning">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>请输入正确的
                        <span class="alert-link">数字</span> !</div>
                </div>
            </div>

        </div>

    </div>






</body>

<script>
    layui.use('layer', function () {
        var layer = layui.layer;
    });

    function IsEmptyOrNull(Item) {
        if (typeof (Item) == "undefined" || Item == "" || Item == null || Item == "null") {
            layer.msg('输入框有空项');
            return true;
        }
    }

    function fuchudu() {
        let temperature = Number(document.getElementById('temperature1').value);
        let f1 = Number(document.getElementById('f1').value);
        let f2 = Number(document.getElementById('f2').value);
        if (IsEmptyOrNull(temperature)) return false;
        if (IsEmptyOrNull(f1)) return false;
        if (IsEmptyOrNull(f2)) return false;
        if (!isNaN(temperature) && !isNaN(f1) && !isNaN(f2)) {
            let sigema = 0.0000000567;
            let t = Math.pow(temperature, 4);
            let area1 = (f1 - f2) * sigema * t;
            let area2 = area1.toExponential(20);
            document.getElementById('area1Title').innerText = "计算结果 (采取科学记数法展示) : ";
            document.getElementById('area1').innerText = area2;
            document.getElementById('area1Warning').style.display = "none";
        } else {
            document.getElementById('area1Warning').style.display = "block";
        }
    }

    function fushebochang() {
        let temperature = Number(document.getElementById('temperature2').value);
        if (IsEmptyOrNull(temperature)) return false;
        if (!isNaN(temperature)) {
            temperature = temperature + 273;
            let length = 2898 / temperature;
            document.getElementById('area2').innerText = length;
            document.getElementById('area2Warning').style.display = "none";
        } else {
            document.getElementById('area2Warning').style.display = "block";
        }
    }

    function fushechushedu() {
        let temperature3 = document.getElementById('temperature3').value;
        let length3 = document.getElementById('length3').value;
        if (IsEmptyOrNull(temperature3)) return false;
        if (IsEmptyOrNull(length3)) return false;
        if (!isNaN(temperature3) && !isNaN(length3)) {
            temperature3 = Number(temperature3) + 273;
            let f = Number(length3) * temperature3;
            let c2 = 0.014388 / f;
            let five = Math.pow(f, 5);
            let c1 = 0.00000000000000037418;
            let e = (Math.pow(2.718281828459, c2) - 1);
            let ji = e * five;
            let area3 = c1 / ji;
            document.getElementById('area3').innerText = area3;
            document.getElementById('area3Warning').style.display = "none";
        } else {
            document.getElementById('area3Warning').style.display = "block";
        }
    }

    function radiationTable() {
        let startingWavelength = Number(document.getElementById('startingWavelength').value);
        let endWavelength = Number(document.getElementById('endWavelength').value);
        let temperature4 = Number(document.getElementById('temperature4').value) + 273;
        let times = Number(document.getElementById('times').value);
        if (IsEmptyOrNull(startingWavelength)) return false;
        if (IsEmptyOrNull(endWavelength)) return false;
        if (IsEmptyOrNull(temperature4)) return false;
        if (IsEmptyOrNull(times)) return false;
        if (!isNaN(startingWavelength) && !isNaN(endWavelength) && !isNaN(temperature4) && !isNaN(times)) {
            $('tbody').empty();
            let dom = "";
            if (startingWavelength >= endWavelength) {
                dom += "<tr><td colspan='3'>结束波长必须大于开始波长</td></tr>"
                document.getElementById('area4Title').innerText = "计算结果 (失败) : ";
            } else {
                for (startingWavelength; startingWavelength < endWavelength; startingWavelength += 0.1) {
                    let f = Number(startingWavelength) * temperature4;
                    let c2 = 0.014388 / f;
                    let five = Math.pow(f, 5);
                    let c1 = 0.00000000000000037418;
                    let e = (Math.pow(2.718281828459, c2) - 1);
                    let ji = e * five;
                    let degree = c1 / ji;
                    dom += "<tr><td>" + startingWavelength.toFixed(1) + "</td> <td>" + degree + "</td> <td>" + degree * times + "</td></tr>"
                }
                document.getElementById('area4Title').innerText = "计算结果 (采取科学记数法展示) : ";
            }
            $('tbody').append(dom);
            document.getElementById('area4Warning').style.display = "none";
        } else {
            $('tbody').empty();
            document.getElementById('area4Warning').style.display = "block";
        }

    }


</script>

</html>
